(this["webpackJsonpauth-test"]=this["webpackJsonpauth-test"]||[]).push([[0],{179:function(e,t,n){},333:function(e,t,n){},334:function(e,t,n){"use strict";n.r(t);var r=n(0),s=n.n(r),c=n(16),a=n.n(c),i=(n(179),n(171)),o=n(20),j=n(72),u=n(174),b=n(11),d=["component","isLoggedIn","path"],l=function(e){var t=e.component,n=e.isLoggedIn,r=e.path,s=Object(u.a)(e,d);return Object(b.jsx)(o.b,{exact:!0,path:r,children:function(){return n?Object(b.jsx)(t,Object(j.a)({},s)):Object(b.jsx)(o.a,{to:"/signin"})}})},h=(n(125),n(54)),O=n(339),m=n(336),p=n(337),x=n(102),g=n(123),f=n.n(g),v=function(e){var t={};return e.username||(t.username="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c!"),e.password||(t.password="\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c!"),t},w=function(e){var t=e.onLogin,n=Object(r.useCallback)((function(e){var n=e.username,r=e.password;t({username:n,password:r})}),[]),s=function(e,t,n){return Object(r.useMemo)((function(){return Object(b.jsxs)(h.a,{htmlType:"submit",type:"primary",size:"large",disabled:e||t||n,children:["\u0412\u043e\u0439\u0442\u0438",Math.random()]})}),[t,n])};return Object(b.jsx)(O.b,{style:{height:"100vh"},children:Object(b.jsx)(x.b,{onSubmit:n,validate:v,render:function(e){var t=e.handleSubmit,n=e.pristine,r=e.hasValidationErrors,c=e.submitting;return Object(b.jsxs)("form",{onSubmit:t,children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(m.a,{children:"username"}),Object(b.jsx)(x.a,{name:"username",children:function(e){var t=e.input,n=e.meta;return Object(b.jsx)(f.a,{help:n.touched&&n.error&&n.error,validateStatus:n.touched?n.error?"error":"success":void 0,children:Object(b.jsx)(p.a,Object(j.a)({size:"large",style:{width:"330px"}},t))})}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(m.a,{children:"password"}),Object(b.jsx)(x.a,{name:"password",render:function(e){var t=e.input,n=e.meta;return Object(b.jsx)(f.a,{help:n.touched&&n.error&&n.error,validateStatus:n.touched?n.error?"error":"success":void 0,children:Object(b.jsx)(p.a.Password,Object(j.a)({size:"large",style:{width:"330px"}},t))})}})]}),s(n,r,c)]})}})})},S=m.a.Title,k=function(e){var t=e.onSignout;return Object(b.jsxs)(O.b,{style:{height:"100vh",justifyContent:"center"},direction:"vertical",children:[Object(b.jsx)(S,{type:"success",children:"\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u044b!"}),Object(b.jsx)(h.a,{danger:!0,onClick:t,size:"large",children:"\u0412\u044b\u0439\u0442\u0438"})]})},y=s.a.memo(k),I=(n(333),n(338)),C="testkey",L=function(){var e=Object(r.useState)(!1),t=Object(i.a)(e,2),n=t[0],s=t[1],c=Object(o.g)(),a=Object(r.useCallback)((function(e){var t=e.username,n=e.password;"user"===t.trim()&&"user"===n.trim()?(localStorage.setItem("token",C),s(!0),c.push("/main")):I.a.error({title:"\u0412\u044b \u0432\u0432\u0435\u043b\u0438 \u043d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430"})}),[]),j=Object(r.useCallback)((function(){localStorage.removeItem("token"),s(!1),I.a.info({title:"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0432\u044b\u0448\u043b\u0438 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),c.push("/signin")}),[]),u=Object(r.useCallback)((function(){var e=localStorage.getItem("token");e&&(e===C&&(s(!0),c.push("/main")))}),[]);return Object(r.useEffect)((function(){u()}),[]),Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{path:"/signin",children:Object(b.jsx)(w,{onLogin:a})}),Object(b.jsx)(l,{path:"/main",component:y,isLoggedIn:n,onSignout:j}),Object(b.jsx)(o.b,{path:"/*",children:n?Object(b.jsx)(o.a,{to:"/main"}):Object(b.jsx)(o.a,{to:"/signin"})})]})})},z=n(82);a.a.render(Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(z.a,{children:Object(b.jsx)(L,{})})}),document.getElementById("root"))}},[[334,1,2]]]);
//# sourceMappingURL=main.c148ccfc.chunk.js.map